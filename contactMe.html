<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Dennis Liang Contact Me Page</title>
    <link rel="stylesheet" href="./assets/css/style.css">
  </head>
  <body id="body-theme">
    <header>
        <!-- Navbar section -->
        <nav class="top-nav">
            <div>
                <a href="home.html" class="navbar-logo">Dennis Liang</a>
            </div>
            <input id="menu-toggle" type="checkbox">
            <label class='menu-button-container' for="menu-toggle">
                <span class='menu-button'></span>
            </label>
            <ul class="menu">
                <li class="navbar-item"><a href="home.html#about-me">About Me</a></li>
                <li class="navbar-item"><a href="experience.html">Experience</a></li>
                <li class="navbar-item"><a href="hobby.html">Hobby</a></li>
                <li class="navbar-item"><a href="contactMe.html">Contact Me</a></li>
                <li class="navbar-item"><a href="experiment.html">Experiment</a></li>
                <li class="navbar-item" id="color-theme-nav-bar-item">
                    <button class="dark-mode-toggle" id="color-mode-button">
                        <img src="./assets/icons/darkMode.svg" id="color-mode-image">
                    </button>
                    <noscript>
                        <style>
                            #color-theme-nav-bar-item {
                                display: none;
                            }
                        </style>
                    </noscript>
                </li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- Contact form section for writing email to me -->
        <section class="email-form-section">
            <h2 class="page-title">Contact Me</h2>
            <!-- <form class="email-form" action="https://httpbin.org/get" method="POST"> -->
            <form class="email-form" method="post">
                <fieldset>
                    <!-- Email box description -->
                    <legend><b>Email Form</b></legend>

                    <div class="form-field">
                        <label class="field-label" for="name-input">Name</label>
                        
                        <input type="text" id="name-input" name="name-input" placeholder="Your Name" 
                            maxlength="100" pattern="[\w\s]*" required>
                        <div class="message-output">
                            <output class="error-message" id="name-error-message"></output>
                        </div>
                        <script>
                            let nameInput = document.getElementById("name-input");
                            let nameErrorMessage = document.getElementById("name-error-message");

                            nameInput.addEventListener("input", (event) => {
                                if (nameInput.validity.valueMissing) {
                                    nameInput.setCustomValidity("");
                                    nameErrorMessage.innerText = "Please provide your name";
                                } else {
                                    nameInput.setCustomValidity("");
                                    nameErrorMessage.innerText = "";
                                }
                            });
                        </script>
                    </div>
                    
                    <div class="form-field">
                        <label class="field-label" for="email">Email</label>
                        <input type="email" id="email" name="email" placeholder="Your Email Address"    maxlength="320" required>
                        
                        <div class="message-output">
                            <output class="error-message" id="email-error-message"></output>
                        </div>
                        <script>
                            let emailInput = document.getElementById("email");
                            let emailErrorMessage = document.getElementById("email-error-message");

                            emailInput.addEventListener("input", (event) => {
                                if (emailInput.validity.valueMissing || emailInput.validity.typeMismatch) {
                                    emailInput.setCustomValidity("");
                                    emailErrorMessage.innerHTML = "Please provide a valid email address";
                                } else {
                                    emailInput.setCustomValidity("");
                                    emailErrorMessage.innerHTML = "";
                                }
                            });
                        </script>
                    </div>
                    
                    <div class="form-field">
                        <label class="field-label" for="subject">Subject</label>
                        <input type="text" id="subject" name="subject" placeholder="Your Email Subject"   maxlength="500" pattern="[\w\s]*" required>
                        <div class="message-output">
                            <output class="error-message" id="subject-error-message"></output>
                        </div>
                        <script>
                            let subjectInput = document.getElementById("subject");
                            let subjectErrorMessage = document.getElementById("subject-error-message");

                            subjectInput.addEventListener("input", (event) => {
                                if (subjectInput.validity.valueMissing || subjectInput.validity.patternMismatch) {
                                    subjectInput.setCustomValidity("");
                                    subjectErrorMessage.innerText = "Please provide a valid email subject";
                                } else {
                                    subjectInput.setCustomValidity("");
                                    subjectErrorMessage.innerText = "";
                                }
                            });
                        </script>
                    </div>

                    <div class="form-field">
                        <label class="field-label" for="comments">Comments</label>
                        <textarea id="comments" name="comments" rows="10" cols="60" placeholder="Your Comments" maxlength="1000" pattern="[\w\s]*$" required></textarea>
                        
                        <div class="message-output">
                            <output class="error-message" id="comments-error-message"></output>
                            <output class="info-message" id="comments-info-message">info-message-if-any</output>
                        </div>
                        <script>
                            let commentsInput = document.getElementById("comments");
                            let commentsErrorMessage = document.getElementById("comments-error-message");
                            let commentsInfoMessage = document.getElementById("comments-info-message");

                            commentsInput.addEventListener("input", (event) => {
                                if (commentsInput.validity.valueMissing || commentsInput.validity.patternMismatch) {
                                    console.log("here");
                                    commentsInput.setCustomValidity("");
                                    commentsErrorMessage.innerText = "Please input a valid comment";
                                } else {
                                    commentsInput.setCustomValidity("");
                                    subjectErrorMessage.innerText = "";

                                }
                            });
                        </script>
                    </div>

                    <!-- Hidden Form Field -->
                    <input type="hidden" name="possible_bot" id="possible_bot" value="true">

                    <!-- Submission button as part of form -->
                    <button type="submit">Submit</button>
                    
                </fieldset>
            </form>   
        </section>
    </main>
    <!-- Contact info footer section -->
    <footer>
        <nav class="footer-bar">
            <ul class="footer-bar-container">
                <li class="footer-bar-item"><a href="mailto:dennisliang01@gmail.com">Email</a></li>
                <li class="footer-bar-item"><a href="https://www.linkedin.com/in/dennisbliang/">LinkedIn</a></li>
            </ul>
        </nav>
        <p>Copyright &copy; 2023 Dennis Liang. All Rights Reserved.</p>
    </footer>
    <script src="./assets/js/theme.js"></script>
  </body>
</html>